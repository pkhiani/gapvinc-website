{"version":3,"file":"cms.c99d8ba13d4ae92f9ee4.hot-update.js","sources":["webpack:///./src/components/FormSimpleAjax.js"],"sourcesContent":["import React, { Fragment } from 'react'\r\nimport Helmet from 'react-helmet'\r\nimport { stringify } from 'qs'\r\nimport { serialize } from 'dom-form-serializer'\r\n\r\nimport './Form.css'\r\n\r\nclass Form extends React.Component {\r\n  static defaultProps = {\r\n    name: 'Simple Form Ajax',\r\n    subject: '', // optional subject of the notification email\r\n    action: '',\r\n    successMessage: 'Thanks for your enquiry, we will get back to you soon',\r\n    errorMessage:\r\n      'There is a problem, your message has not been sent, please try contacting us via email'\r\n  }\r\n\r\n  state = {\r\n    alert: '',\r\n    disabled: false\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    if (this.state.disabled) return\r\n\r\n    const form = e.target\r\n    const data = serialize(form)\r\n    this.setState({ disabled: true })\r\n    fetch(form.action + '?' + stringify(data), {\r\n      method: 'POST'\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res\r\n        } else {\r\n          throw new Error('Network error')\r\n        }\r\n      })\r\n      .then(() => {\r\n        form.reset()\r\n        this.setState({\r\n          alert: this.props.successMessage,\r\n          disabled: false\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.error(err)\r\n        this.setState({\r\n          disabled: false,\r\n          alert: this.props.errorMessage\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { name, subject, action } = this.props\r\n\r\n    return (\r\n      <Fragment>\r\n        <Helmet>\r\n          <script src=\"https://www.google.com/recaptcha/api.js\" />\r\n        </Helmet>\r\n        <form\r\n          className=\"Form\"\r\n          name={name}\r\n          action={action}\r\n          onSubmit={this.handleSubmit}\r\n          data-netlify=\"\"\r\n          netlify-recaptcha=\"\"\r\n        >\r\n          {this.state.alert && (\r\n            <div className=\"Form--Alert\">{this.state.alert}</div>\r\n          )}\r\n          <div className=\"Form--Group\">\r\n            <label className=\"Form--Label\">\r\n              <input\r\n                className=\"Form--Input Form--InputText\"\r\n                type=\"text\"\r\n                placeholder=\"Firstname\"\r\n                name=\"firstname\"\r\n                required\r\n              />\r\n              <span>First name</span>\r\n            </label>\r\n            <label className=\"Form--Label\">\r\n              <input\r\n                className=\"Form--Input Form--InputText\"\r\n                type=\"text\"\r\n                placeholder=\"Lastname\"\r\n                name=\"lastname\"\r\n                required\r\n              />\r\n              <span>Last name</span>\r\n            </label>\r\n          </div>\r\n          \r\n          <label className=\"Form--Label\">\r\n            <input\r\n              className=\"Form--Input Form--InputText\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"emailAddress\"\r\n              required\r\n            />\r\n            <span>Email address</span>\r\n          </label>\r\n          <label className=\"Form--Label has-arrow\">\r\n            <select\r\n              className=\"Form--Input Form--Select\"\r\n              name=\"type\"\r\n              defaultValue=\"Type of Enquiry\"\r\n              required\r\n            >\r\n              <option disabled hidden>\r\n                Type of Enquiry\r\n              </option>\r\n              <option>Consulting Services</option>\r\n              <option>Training Services</option>\r\n              <option>Additional information</option>\r\n            </select>\r\n          </label>\r\n          <label className=\"Form--Label\">\r\n            <textarea\r\n              className=\"Form--Input Form--Textarea Form--InputText\"\r\n              placeholder=\"Message\"\r\n              name=\"message\"\r\n              rows=\"10\"\r\n              required\r\n            />\r\n            <span>Message</span>\r\n          </label>\r\n          \r\n          \r\n          {!!subject && <input type=\"hidden\" name=\"subject\" value={subject} />}\r\n          <input type=\"hidden\" name=\"form-name\" value={name} />\r\n          <input\r\n            className=\"Button Form--SubmitButton\"\r\n            type=\"submit\"\r\n            value=\"Enquire\"\r\n            disabled={this.state.disabled}\r\n          />\r\n        </form>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;AAUA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;;;;;;;;AA3IA;AACA;AADA;AAEA;AACA;AAAA;AACA;AACA;AACA;AALA;AA4IA;AAAA;;;;;;;;;;AA7IA;;;;;;;;;;;;;;A","sourceRoot":""}